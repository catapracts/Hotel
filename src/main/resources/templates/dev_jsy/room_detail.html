<html layout:decorate="~{layout}">

<div layout:fragment="content" class="container my-3">
    <!-- 질문 -->
    <h2 class="border-bottom py-2" th:text="${room.rid}"></h2>
    <div class="card my-3">
        <div class="card-body">
        	<!-- 마크다운 라이브러리를 통해서 출력  -->
        
            <div class="card-text" style="white-space: pre-line;" th:utext="${@commonUtil.markdown(room.rid)}"></div>
            <div class="d-flex justify-content-end">

       	        <div th:if="${room.rname != null}" class="badge bg-light text-dark  p-2 text-start mx-3">
            		<div class="mb-2">방 이름</div>
            		<div th:text="${room.rname}"></div>
            	</div>
            	
       	        <div th:if="${room.rtype != null}" class="badge bg-light text-dark  p-2 text-start mx-3">
            		<div class="mb-2">방 타입</div>
            		<div th:text="${room.rtype}"></div>
            	</div>
            
            </div>
            <!-- 질문 :  추천 / 수정 /삭제 버튼 추가  -->
            <div class = "my-3">
            	
            
            	<a th:href="@{|/roomModify/${room.rid}|}"          	
            		th:text ="수정"
            		class="btn btn-sm btn-outline-secondary"
            	>          	
	           	</a>
	           	
	           	<a 
	           		href="javascript:void(0)"
	           	    th:data-uri="@{|/roomDelete/${room.rid}|}"
	           		th:text="삭제"
	           		class="delete btn btn-sm btn-outline-secondary"
	           	>	           	
	           	</a>	           	                      
             </div>
            
            
        </div>
    </div>

<script layout:fragment="script" type='text/javascript'>
const delete_elements = document.getElementsByClassName("delete");
Array.from(delete_elements).forEach(function(element) {
    element.addEventListener('click', function() {
        if(confirm("정말로 삭제하시겠습니까?")) {
            location.href = this.dataset.uri;
        };
    });
});

</script>

</html>
